moduleId: send-email-example

buildCommand: npm run build

parameters:
  - sendgrid-api-key

workers:
  - workerId: send-email
    scriptPath: dist/sendEmail.bundle.js
    env:
      SENDGRID_API_KEY: sendgrid-api-key
      FROM_EMAIL:
        value: send-email-worker@mail.dataland.io
      FROM_NAME:
        value: "Dataland Worker"

tables:
  - tableId: emails-table
    tableName: emails
    autoMigrate: true
    columnDescriptors:
      - columnId: send-email-column
        columnName: Send Email
        dataType: int32
        columnAnnotations:
          dataland.io/column-display-config: |
            {
              "type": "button",
              "label": "Send Email",
              "theme": "blue"
            }

      - columnId: sent-column
        columnName: Sent Timestamp
        dataType: string

      - columnId: email-address-column
        columnName: Email Address
        dataType: string

      - columnId: subject-column
        columnName: Subject
        dataType: string

      - columnId: body-column
        columnName: Body
        dataType: string

      - columnId: footer-column
        columnName: Footer
        dataType: string
