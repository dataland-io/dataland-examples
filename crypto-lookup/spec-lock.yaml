# This file was automatically generated by the Dataland CLI via `dataland spec build`.
# It is not intended for manual editing.
moduleId: crypto-lookup-example
resources:
  - apiVersion: dataland.io/v1alpha1
    kind: Worker
    metadata:
      name: crypto-lookup
    spec:
      scriptSha256Hex: 28df398aa7da5855925092d197653474449cf95641447fecc459b89c58bb8123
      env:
        - name: COINMARKETCAP_API_KEY
          value:
            secretKeyRef:
              name: coinmarketcap-api-key
              key: parameterValue
  - apiVersion: dataland.io/v1alpha1
    kind: Table
    metadata:
      name: crypto-table
    spec:
      tableName: crypto
      columnDescriptors:
        - columnId: symbol-column
          columnName: symbol
          dataType: string
          nullable: true
        - columnId: price-column
          columnName: price
          dataType: float64
          nullable: true
      tableAnnotations: {}
      autoMigrate: true
parameterizedResources:
  - resource:
      apiVersion: v1
      kind: Secret
      metadata:
        name: coinmarketcap-api-key
      type: Opaque
      immutable: false
      stringData:
        parameterValue: ""
    parameters:
      - parameterId: coinmarketcap-api-key
        replacePath: /stringData/parameterValue
