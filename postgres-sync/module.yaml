moduleId: postgres-sync-example

info:
  title: Postgres
  description: Sync a Postgres database to Dataland
  author: Dataland Devs <devs@dataland.io>
  sourceCodeUrl: https://github.com/dataland-io/dataland-builtin-modules
  readmePath: README.md
  iconPath: icon.png

buildCommand: npm run build

parameters:
  - pghost
  - pgport
  - pgdatabase
  - pguser
  - pgpassword
  - pgschema
  - allow-drop-tables-boolean
  - allow-writeback-boolean

workers:
  - workerId: postgres-sync
    scriptPath: dist/postgresSync.bundle.js
    env:
      PGHOST: pghost
      PGPORT: pgport
      PGDATABASE: pgdatabase
      PGUSER: pguser
      PGPASSWORD: pgpassword
      PGSCHEMA: pgschema
      ALLOW_DROP_TABLES_BOOLEAN: allow-drop-tables-boolean
      ALLOW_WRITEBACK_BOOLEAN: allow-writeback-boolean
    triggers:
      cron:
        cronExpression: "*/30 * * * * * *"
      transaction: {}
